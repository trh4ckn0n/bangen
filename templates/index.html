<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ASCII Art Generator - trhacknon</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header>
    <h1>ASCII Art Generator <span class="subtitle">by trhacknon</span></h1>
  </header>

  <form method="POST" enctype="multipart/form-data" class="form-upload">
    <input type="file" name="image" required accept="image/png, image/jpeg" />
    <label for="width">Largeur :</label>
    <input type="number" name="width" min="20" max="300" value="100" />

    <label for="color">Couleur :</label>
    <input type="color" name="color" value="{{ color }}" />

    <label for="shadow">Ombre (px) :</label>
    <input type="range" name="shadow" min="0" max="10" value="{{ shadow }}" />

    <button type="submit">ğŸ–‹ï¸ GÃ©nÃ©rer</button>
  </form>

  {% if ascii %}
  <section class="result-section">
    <h2>RÃ©sultat ASCII Art</h2>
    <pre class="ascii" style="color: {{ color }}; text-shadow:
      0 0 {{ shadow }}px #0ffccf,
      0 0 {{ shadow // 2 }}px #0ffccf;">
      {{ ascii|e }}
    </pre>

    <div class="buttons-download">
      <a href="{{ url_for('download_txt') }}?ascii={{ ascii|urlencode }}" class="btn">ğŸ“¥ TÃ©lÃ©charger TXT</a>
      <a href="{{ url_for('download_svg') }}?svg={{ ascii_svg|urlencode }}" class="btn">ğŸ“¥ TÃ©lÃ©charger SVG</a>
    </div>

    <h2>SVG Preview</h2>
    <div class="svg-preview">
      {{ ascii_svg|safe }}
    </div>
  </section>
  {% endif %}

  <footer>
    <p>Â© 2025 trhacknon - ASCII Art Generator</p>
  </footer>

<script>
// Animation nÃ©on clignotant sur le texte ASCII (prÃ©)
const asciiElem = document.querySelector(".ascii");
if(asciiElem){
  let opacity = 1, direction = -0.05;
  setInterval(() => {
    opacity += direction;
    if(opacity <= 0.5) direction = 0.05;
    else if(opacity >= 1) direction = -0.05;
    asciiElem.style.opacity = opacity.toFixed(2);
  }, 50);
}
</script>

</body>
</html>
